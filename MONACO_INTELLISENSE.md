# Как работают подсказки (IntelliSense) в Monaco Editor

## Источники подсказок

Monaco Editor использует несколько источников для автодополнения:

### 1. **Встроенные языковые серверы**
Monaco Editor имеет встроенную поддержку для популярных языков программирования:
- **Python**: Встроенные ключевые слова (`if`, `for`, `def`, `class`, `import`, и т.д.)
- **JavaScript**: Встроенные ключевые слова и стандартные API (`console`, `Array`, `Object`, и т.д.)
- **C++**: Встроенные ключевые слова и стандартная библиотека

Эти подсказки **не требуют подключения к внешним серверам** и работают полностью локально в браузере.

### 2. **Слова из текущего документа** (`wordBasedSuggestions: "matchingDocuments"`)
Monaco Editor анализирует весь текст в текущем документе и предлагает:
- Имена переменных, которые вы уже использовали
- Имена функций, которые вы определили
- Любые слова, которые встречаются в документе

Например, если вы написали `my_variable = 10`, то при вводе `my_` появится подсказка `my_variable`.

### 3. **Кастомные провайдеры автодополнения**
В нашем коде мы зарегистрировали кастомные провайдеры через `monaco.languages.registerCompletionItemProvider()`:

**Для Python:**
- `for` → предлагает шаблон цикла
- `if` → предлагает шаблон условия
- `def` → предлагает шаблон функции
- `class` → предлагает шаблон класса
- `while`, `try`, `with`, `return` → соответствующие шаблоны

**Для JavaScript:**
- `for` → шаблон цикла
- `function` → шаблон функции
- `if` → шаблон условия
- `const`, `let` → объявления переменных
- `arrow` → стрелочная функция

**Для C++:**
- `for` → шаблон цикла
- `if` → шаблон условия
- `main` → шаблон главной функции
- `include` → подключение заголовка

### 4. **Триггерные символы** (`suggestOnTriggerCharacters: true`)
Подсказки автоматически появляются при вводе определенных символов:
- `.` (точка) → предлагает методы и свойства объекта
- `(` (скобка) → предлагает параметры функции
- `[` (квадратная скобка) → предлагает элементы массива

## Настройки IntelliSense в нашем коде

```typescript
{
  quickSuggestions: {
    other: true,      // Показывать подсказки при вводе
    comments: false,  // Не показывать в комментариях
    strings: true,    // Показывать в строках
  },
  suggestOnTriggerCharacters: true,  // Показывать при вводе триггерных символов
  acceptSuggestionOnEnter: "on",     // Принимать подсказку по Enter
  tabCompletion: "on",               // Автодополнение по Tab
  wordBasedSuggestions: "matchingDocuments", // Использовать слова из документа
  suggestSelection: "first",         // Выбирать первую подсказку
  snippetSuggestions: "top",         // Показывать snippets сверху
  parameterHints: { enabled: true }, // Показывать подсказки параметров
  hover: { enabled: true },          // Показывать подсказки при наведении
}
```

## Как это работает технически

1. **При вводе символа** Monaco Editor:
   - Анализирует текущий контекст (позиция курсора, окружающий код)
   - Собирает подсказки из всех зарегистрированных провайдеров
   - Фильтрует подсказки по введенному тексту
   - Сортирует их по релевантности

2. **Провайдеры вызываются асинхронно**:
   - Встроенные провайдеры (быстрые, локальные)
   - Кастомные провайдеры (наш код)
   - Слова из документа (быстрое сканирование)

3. **Результаты объединяются** и показываются в выпадающем списке

## Важные моменты

- **Нет подключения к внешним базам данных** - все подсказки генерируются локально
- **Нет подключения к языковым серверам** (как в VS Code) - используется упрощенная версия
- **Подсказки ограничены** - нет полного анализа типов, как в полноценных IDE
- **Работает офлайн** - не требует интернет-соединения

## Отличие от VS Code

VS Code использует **Language Server Protocol (LSP)** для подключения к внешним языковым серверам, которые:
- Анализируют весь проект
- Понимают типы и зависимости
- Предоставляют более точные подсказки

Monaco Editor - это упрощенная версия, которая работает в браузере и не требует установки языковых серверов.

